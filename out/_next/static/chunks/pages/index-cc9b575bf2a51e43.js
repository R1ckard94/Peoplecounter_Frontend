(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9361)}])},9361:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(5893),o=t(3236),i=t(5113),a=t(1664),u=t(7294);function c(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(n){i(n)}}function u(e){try{c(r.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))}function l(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var s,f=function(){},d=f(),h=Object,v=function(e){return e===d},g=function(e){return"function"==typeof e},p=function(e,n){return h.assign({},e,n)},b="undefined",m=function(){return typeof window!=b},y=new WeakMap,w=0,x=function(e){var n,t,r=typeof e,o=e&&e.constructor,i=o==Date;if(h(e)!==e||i||o==RegExp)n=i?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(n=y.get(e))return n;if(n=++w+"~",y.set(e,n),o==Array){for(n="@",t=0;t<e.length;t++)n+=x(e[t])+",";y.set(e,n)}if(o==h){n="#";for(var a=h.keys(e).sort();!v(t=a.pop());)v(e[t])||(n+=t+":"+x(e[t])+",");y.set(e,n)}}return n},j=!0,k=m(),E=typeof document!=b,C=k&&window.addEventListener?window.addEventListener.bind(window):f,O=E?document.addEventListener.bind(document):f,R=k&&window.removeEventListener?window.removeEventListener.bind(window):f,S=E?document.removeEventListener.bind(document):f,A={isOnline:function(){return j},isVisible:function(){var e=E&&document.visibilityState;return v(e)||"hidden"!==e}},T={initFocus:function(e){return O("visibilitychange",e),C("focus",e),function(){S("visibilitychange",e),R("focus",e)}},initReconnect:function(e){var n=function(){j=!0,e()},t=function(){j=!1};return C("online",n),C("offline",t),function(){R("online",n),R("offline",t)}}},I=!m()||"Deno"in window,V=function(e){return m()&&typeof window.requestAnimationFrame!=b?window.requestAnimationFrame(e):setTimeout(e,1)},W=I?u.useEffect:u.useLayoutEffect,D="undefined"!==typeof navigator&&navigator.connection,_=!I&&D&&(["slow-2g","2g"].includes(D.effectiveType)||D.saveData),P=function(e){if(g(e))try{e=e()}catch(t){e=""}var n=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?x(e):"",n,e?"$swr$"+e:""]},F=new WeakMap,L=function(e,n,t,r,o,i,a){void 0===a&&(a=!0);var u=F.get(e),c=u[0],l=u[1],s=u[3],f=c[n],d=l[n];if(a&&d)for(var h=0;h<d.length;++h)d[h](t,r,o);return i&&(delete s[n],f&&f[0])?f[0](2).then((function(){return e.get(n)})):e.get(n)},M=0,N=function(){return++M},X=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return c(void 0,void 0,void 0,(function(){var n,t,r,o,i,a,u,c,s,f,h,b,m,y,w,x,j,k,E,C,O;return l(this,(function(l){switch(l.label){case 0:if(n=e[0],t=e[1],r=e[2],o=e[3],a=!!v((i="boolean"===typeof o?{revalidate:o}:o||{}).populateCache)||i.populateCache,u=!1!==i.revalidate,c=!1!==i.rollbackOnError,s=i.optimisticData,f=P(t),h=f[0],b=f[2],!h)return[2];if(m=F.get(n),y=m[2],e.length<3)return[2,L(n,h,n.get(h),d,d,u,!0)];if(w=r,j=N(),y[h]=[j,0],k=!v(s),E=n.get(h),k&&(C=g(s)?s(E):s,n.set(h,C),L(n,h,C)),g(w))try{w=w(n.get(h))}catch(R){x=R}return w&&g(w.then)?[4,w.catch((function(e){x=e}))]:[3,2];case 1:if(w=l.sent(),j!==y[h][0]){if(x)throw x;return[2,w]}x&&k&&c&&(a=!0,w=E,n.set(h,E)),l.label=2;case 2:return a&&(x||(g(a)&&(w=a(w,E)),n.set(h,w)),n.set(b,p(n.get(b),{error:x}))),y[h][1]=N(),[4,L(n,h,w,x,d,u,!!a)];case 3:if(O=l.sent(),x)throw x;return[2,a?O:w]}}))}))},z=function(e,n){for(var t in e)e[t][0]&&e[t][0](n)},H=function(e,n){if(!F.has(e)){var t=p(T,n),r={},o=X.bind(d,e),i=f;if(F.set(e,[r,{},{},{},o]),!I){var a=t.initFocus(setTimeout.bind(d,z.bind(d,r,0))),u=t.initReconnect(setTimeout.bind(d,z.bind(d,r,1)));i=function(){a&&a(),u&&u(),F.delete(e)}}return[e,o,i]}return[e,F.get(e)[4]]},Y=H(new Map),$=Y[0],q=Y[1],J=p({onLoadingSlow:f,onSuccess:f,onError:f,onErrorRetry:function(e,n,t,r,o){var i=t.errorRetryCount,a=o.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*t.errorRetryInterval;!v(i)&&a>i||setTimeout(r,u,o)},onDiscarded:f,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:_?5e3:3e3,compare:function(e,n){return x(e)==x(n)},isPaused:function(){return!1},cache:$,mutate:q,fallback:{}},A),B=function(e,n){var t=p(e,n);if(n){var r=e.use,o=e.fallback,i=n.use,a=n.fallback;r&&i&&(t.use=r.concat(i)),o&&a&&(t.fallback=p(o,a))}return t},G=(0,u.createContext)({}),U=function(e){return g(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},K=function(){return p(J,(0,u.useContext)(G))},Q=function(e,n,t){var r=n[e]||(n[e]=[]);return r.push(t),function(){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}},Z={dedupe:!0},ee=(h.defineProperty((function(e){var n=e.value,t=B((0,u.useContext)(G),n),r=n&&n.provider,o=(0,u.useState)((function(){return r?H(r(t.cache||$),n):d}))[0];return o&&(t.cache=o[0],t.mutate=o[1]),W((function(){return o?o[2]:d}),[]),(0,u.createElement)(G.Provider,p(e,{value:t}))}),"default",{value:J}),s=function(e,n,t){var r=t.cache,o=t.compare,i=t.fallbackData,a=t.suspense,s=t.revalidateOnMount,f=t.refreshInterval,h=t.refreshWhenHidden,b=t.refreshWhenOffline,m=F.get(r),y=m[0],w=m[1],x=m[2],j=m[3],k=P(e),E=k[0],C=k[1],O=k[2],R=(0,u.useRef)(!1),S=(0,u.useRef)(!1),A=(0,u.useRef)(E),T=(0,u.useRef)(n),D=(0,u.useRef)(t),_=function(){return D.current},M=function(){return _().isVisible()&&_().isOnline()},z=function(e){return r.set(O,p(r.get(O),e))},H=r.get(E),Y=v(i)?t.fallback[E]:i,$=v(H)?Y:H,q=r.get(O)||{},J=q.error,B=!R.current,G=function(){return B&&!v(s)?s:!_().isPaused()&&(a?!v($)&&t.revalidateIfStale:v($)||t.revalidateIfStale)},U=!(!E||!n)&&(!!q.isValidating||B&&G()),K=function(e,n){var t=(0,u.useState)({})[1],r=(0,u.useRef)(e),o=(0,u.useRef)({data:!1,error:!1,isValidating:!1}),i=(0,u.useCallback)((function(e){var i=!1,a=r.current;for(var u in e){var c=u;a[c]!==e[c]&&(a[c]=e[c],o.current[c]&&(i=!0))}i&&!n.current&&t({})}),[]);return W((function(){r.current=e})),[r,o.current,i]}({data:$,error:J,isValidating:U},S),ee=K[0],ne=K[1],te=K[2],re=(0,u.useCallback)((function(e){return c(void 0,void 0,void 0,(function(){var n,i,a,u,c,s,f,h,p,b,m,y,w;return l(this,(function(l){switch(l.label){case 0:if(n=T.current,!E||!n||S.current||_().isPaused())return[2,!1];u=!0,c=e||{},s=!j[E]||!c.dedupe,f=function(){return!S.current&&E===A.current&&R.current},h=function(){var e=j[E];e&&e[1]===a&&delete j[E]},p={isValidating:!1},b=function(){z({isValidating:!1}),f()&&te(p)},z({isValidating:!0}),te({isValidating:!0}),l.label=1;case 1:return l.trys.push([1,3,,4]),s&&(L(r,E,ee.current.data,ee.current.error,!0),t.loadingTimeout&&!r.get(E)&&setTimeout((function(){u&&f()&&_().onLoadingSlow(E,t)}),t.loadingTimeout),j[E]=[n.apply(void 0,C),N()]),w=j[E],i=w[0],a=w[1],[4,i];case 2:return i=l.sent(),s&&setTimeout(h,t.dedupingInterval),j[E]&&j[E][1]===a?(z({error:d}),p.error=d,m=x[E],!v(m)&&(a<=m[0]||a<=m[1]||0===m[1])?(b(),s&&f()&&_().onDiscarded(E),[2,!1]):(o(ee.current.data,i)?p.data=ee.current.data:p.data=i,o(r.get(E),i)||r.set(E,i),s&&f()&&_().onSuccess(i,E,t),[3,4])):(s&&f()&&_().onDiscarded(E),[2,!1]);case 3:return y=l.sent(),h(),_().isPaused()||(z({error:y}),p.error=y,s&&f()&&(_().onError(y,E,t),("boolean"===typeof t.shouldRetryOnError&&t.shouldRetryOnError||g(t.shouldRetryOnError)&&t.shouldRetryOnError(y))&&M()&&_().onErrorRetry(y,E,t,re,{retryCount:(c.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,b(),f()&&s&&L(r,E,p.data,p.error,!1),[2,!0]}}))}))}),[E]),oe=(0,u.useCallback)(X.bind(d,r,(function(){return A.current})),[]);if(W((function(){T.current=n,D.current=t})),W((function(){if(E){var e=E!==A.current,n=re.bind(d,Z),t=0,r=Q(E,w,(function(e,n,t){te(p({error:n,isValidating:t},o(ee.current.data,e)?d:{data:e}))})),i=Q(E,y,(function(e){if(0==e){var r=Date.now();_().revalidateOnFocus&&r>t&&M()&&(t=r+_().focusThrottleInterval,n())}else if(1==e)_().revalidateOnReconnect&&M()&&n();else if(2==e)return re()}));return S.current=!1,A.current=E,R.current=!0,e&&te({data:$,error:J,isValidating:U}),G()&&(v($)||I?n():V(n)),function(){S.current=!0,r(),i()}}}),[E,re]),W((function(){var e;function n(){var n=g(f)?f($):f;n&&-1!==e&&(e=setTimeout(t,n))}function t(){ee.current.error||!h&&!_().isVisible()||!b&&!_().isOnline()?n():re(Z).then(n)}return n(),function(){e&&(clearTimeout(e),e=-1)}}),[f,h,b,re]),(0,u.useDebugValue)($),a&&v($)&&E)throw T.current=n,D.current=t,S.current=!1,v(J)?re(Z):J;return{mutate:oe,get data(){return ne.data=!0,$},get error(){return ne.error=!0,J},get isValidating(){return ne.isValidating=!0,U}}},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=K(),r=U(e),o=r[0],i=r[1],a=r[2],u=B(t,a),c=s,l=u.use;if(l)for(var f=l.length;f-- >0;)c=l[f](c);return c(o,i||u.fetcher,u)});function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function te(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return ne(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch.apply(void 0,te(n).concat([{mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}}])).then((function(e){return e.json()}))},oe=function(e){var n=new Date,t="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate());9==t.length&&(t="".concat(n.getFullYear(),"-0").concat(n.getMonth()+1,"-").concat(n.getDate())),8==t.length&&(t="".concat(n.getFullYear(),"-0").concat(n.getMonth()+1,"-0").concat(n.getDate()));var i=ee("https://peoplecounterapi.azurewebsites.net/api/counted/"+t+"/peoplecount",re,{refreshInterval:3e4}),a=i.data;return i.error?(0,r.jsx)("div",{children:"Failed to load from api"}):a?(0,r.jsxs)(o.W2,{children:["current"==e.id&&(0,r.jsx)("a",{children:a.current}),"max"==e.id&&(0,r.jsx)("a",{children:a.maxAmount})]}):(0,r.jsx)("div",{children:"Loading..."})};function ie(){return(0,r.jsxs)(o.W2,{maxW:"auto",minH:"100vh",p:"2%",children:[(0,r.jsx)("header",{children:(0,r.jsx)("title",{children:"People Counter"})}),(0,r.jsx)(o.kC,{h:"10vh",children:(0,r.jsx)(o.gC,{w:"full",h:"full",p:10,spacing:10,alignItems:"center",children:(0,r.jsx)(o.X6,{color:"blueviolet",fontSize:"8vh",fontWeight:"600",m:"-3%",children:"People Counter p\xe5 Atea"})})}),(0,r.jsx)(a.default,{href:"/history",children:(0,r.jsx)(i.zx,{marginTop:"-20",size:"lg",color:"blueviolet",boxShadow:"0 5px 12px rgba(0, 0, 0, 0.2)",children:"Historik"})}),(0,r.jsx)(o.kC,{paddingBottom:"2.5rem",children:(0,r.jsxs)(o.kC,{w:"200vh",maxW:"200vh",display:"flex",direction:"column",gap:100,minH:"70vh",marginTop:"20",alignItems:"center",children:[(0,r.jsxs)(o.xu,{p:10,maxW:"sm",borderRadius:"lg",borderWidth:"1px",overflow:"hidden",borderColor:"blue.600",boxShadow:"0 12px 20px rgba(0, 0, 0, 0.2)",children:[(0,r.jsx)(o.X6,{color:"blueviolet",textAlign:"center",children:(0,r.jsx)(oe,{id:"current"})}),(0,r.jsx)(o.xv,{fontWeight:"bold",textAlign:"center",children:"Antal m\xe4nniskor p\xe5 kontoret"})]}),(0,r.jsxs)(o.xu,{p:10,maxW:"sm",borderRadius:"lg",borderWidth:"1px",overflow:"hidden",borderColor:"blue.600",boxShadow:"0 12px 20px rgba(0, 0, 0, 0.2)",children:[(0,r.jsx)(o.X6,{color:"blueviolet",textAlign:"center",children:(0,r.jsx)(oe,{id:"max"})}),(0,r.jsx)(o.xv,{fontWeight:"bold",textAlign:"center",children:"Inpasseringar"})]})]})}),(0,r.jsx)(o.gC,{w:"calc(100% - 4%)",height:"2.5rem",borderTop:"1px solid black",position:"absolute",bottom:"0"})]})}}},function(e){e.O(0,[708,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);