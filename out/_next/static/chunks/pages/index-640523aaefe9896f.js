(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9361)}])},9361:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return oe}});var r=t(5893),i=t(3236),o=t(5113),a=t(1664),u=t(7294);function c(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(n){o(n)}}function u(e){try{c(r.throw(e))}catch(n){o(n)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))}function l(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(u){o=[6,u],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var s,f=function(){},d=f(),h=Object,v=function(e){return e===d},g=function(e){return"function"==typeof e},p=function(e,n){return h.assign({},e,n)},b="undefined",m=function(){return typeof window!=b},y=new WeakMap,w=0,x=function(e){var n,t,r=typeof e,i=e&&e.constructor,o=i==Date;if(h(e)!==e||o||i==RegExp)n=o?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(n=y.get(e))return n;if(n=++w+"~",y.set(e,n),i==Array){for(n="@",t=0;t<e.length;t++)n+=x(e[t])+",";y.set(e,n)}if(i==h){n="#";for(var a=h.keys(e).sort();!v(t=a.pop());)v(e[t])||(n+=t+":"+x(e[t])+",");y.set(e,n)}}return n},j=!0,k=m(),E=typeof document!=b,C=k&&window.addEventListener?window.addEventListener.bind(window):f,R=E?document.addEventListener.bind(document):f,O=k&&window.removeEventListener?window.removeEventListener.bind(window):f,A=E?document.removeEventListener.bind(document):f,S={isOnline:function(){return j},isVisible:function(){var e=E&&document.visibilityState;return v(e)||"hidden"!==e}},T={initFocus:function(e){return R("visibilitychange",e),C("focus",e),function(){A("visibilitychange",e),O("focus",e)}},initReconnect:function(e){var n=function(){j=!0,e()},t=function(){j=!1};return C("online",n),C("offline",t),function(){O("online",n),O("offline",t)}}},I=!m()||"Deno"in window,V=function(e){return m()&&typeof window.requestAnimationFrame!=b?window.requestAnimationFrame(e):setTimeout(e,1)},D=I?u.useEffect:u.useLayoutEffect,W="undefined"!==typeof navigator&&navigator.connection,_=!I&&W&&(["slow-2g","2g"].includes(W.effectiveType)||W.saveData),P=function(e){if(g(e))try{e=e()}catch(t){e=""}var n=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?x(e):"",n,e?"$swr$"+e:""]},L=new WeakMap,F=function(e,n,t,r,i,o,a){void 0===a&&(a=!0);var u=L.get(e),c=u[0],l=u[1],s=u[3],f=c[n],d=l[n];if(a&&d)for(var h=0;h<d.length;++h)d[h](t,r,i);return o&&(delete s[n],f&&f[0])?f[0](2).then((function(){return e.get(n)})):e.get(n)},M=0,N=function(){return++M},H=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return c(void 0,void 0,void 0,(function(){var n,t,r,i,o,a,u,c,s,f,h,b,m,y,w,x,j,k,E,C,R;return l(this,(function(l){switch(l.label){case 0:if(n=e[0],t=e[1],r=e[2],i=e[3],a=!!v((o="boolean"===typeof i?{revalidate:i}:i||{}).populateCache)||o.populateCache,u=!1!==o.revalidate,c=!1!==o.rollbackOnError,s=o.optimisticData,f=P(t),h=f[0],b=f[2],!h)return[2];if(m=L.get(n),y=m[2],e.length<3)return[2,F(n,h,n.get(h),d,d,u,!0)];if(w=r,j=N(),y[h]=[j,0],k=!v(s),E=n.get(h),k&&(C=g(s)?s(E):s,n.set(h,C),F(n,h,C)),g(w))try{w=w(n.get(h))}catch(O){x=O}return w&&g(w.then)?[4,w.catch((function(e){x=e}))]:[3,2];case 1:if(w=l.sent(),j!==y[h][0]){if(x)throw x;return[2,w]}x&&k&&c&&(a=!0,w=E,n.set(h,E)),l.label=2;case 2:return a&&(x||(g(a)&&(w=a(w,E)),n.set(h,w)),n.set(b,p(n.get(b),{error:x}))),y[h][1]=N(),[4,F(n,h,w,x,d,u,!!a)];case 3:if(R=l.sent(),x)throw x;return[2,a?R:w]}}))}))},X=function(e,n){for(var t in e)e[t][0]&&e[t][0](n)},z=function(e,n){if(!L.has(e)){var t=p(T,n),r={},i=H.bind(d,e),o=f;if(L.set(e,[r,{},{},{},i]),!I){var a=t.initFocus(setTimeout.bind(d,X.bind(d,r,0))),u=t.initReconnect(setTimeout.bind(d,X.bind(d,r,1)));o=function(){a&&a(),u&&u(),L.delete(e)}}return[e,i,o]}return[e,L.get(e)[4]]},$=z(new Map),q=$[0],J=$[1],Y=p({onLoadingSlow:f,onSuccess:f,onError:f,onErrorRetry:function(e,n,t,r,i){var o=t.errorRetryCount,a=i.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*t.errorRetryInterval;!v(o)&&a>o||setTimeout(r,u,i)},onDiscarded:f,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:_?5e3:3e3,compare:function(e,n){return x(e)==x(n)},isPaused:function(){return!1},cache:q,mutate:J,fallback:{}},S),B=function(e,n){var t=p(e,n);if(n){var r=e.use,i=e.fallback,o=n.use,a=n.fallback;r&&o&&(t.use=r.concat(o)),i&&a&&(t.fallback=p(i,a))}return t},G=(0,u.createContext)({}),U=function(e){return g(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},K=function(){return p(Y,(0,u.useContext)(G))},Q=function(e,n,t){var r=n[e]||(n[e]=[]);return r.push(t),function(){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}},Z={dedupe:!0},ee=(h.defineProperty((function(e){var n=e.value,t=B((0,u.useContext)(G),n),r=n&&n.provider,i=(0,u.useState)((function(){return r?z(r(t.cache||q),n):d}))[0];return i&&(t.cache=i[0],t.mutate=i[1]),D((function(){return i?i[2]:d}),[]),(0,u.createElement)(G.Provider,p(e,{value:t}))}),"default",{value:Y}),s=function(e,n,t){var r=t.cache,i=t.compare,o=t.fallbackData,a=t.suspense,s=t.revalidateOnMount,f=t.refreshInterval,h=t.refreshWhenHidden,b=t.refreshWhenOffline,m=L.get(r),y=m[0],w=m[1],x=m[2],j=m[3],k=P(e),E=k[0],C=k[1],R=k[2],O=(0,u.useRef)(!1),A=(0,u.useRef)(!1),S=(0,u.useRef)(E),T=(0,u.useRef)(n),W=(0,u.useRef)(t),_=function(){return W.current},M=function(){return _().isVisible()&&_().isOnline()},X=function(e){return r.set(R,p(r.get(R),e))},z=r.get(E),$=v(o)?t.fallback[E]:o,q=v(z)?$:z,J=r.get(R)||{},Y=J.error,B=!O.current,G=function(){return B&&!v(s)?s:!_().isPaused()&&(a?!v(q)&&t.revalidateIfStale:v(q)||t.revalidateIfStale)},U=!(!E||!n)&&(!!J.isValidating||B&&G()),K=function(e,n){var t=(0,u.useState)({})[1],r=(0,u.useRef)(e),i=(0,u.useRef)({data:!1,error:!1,isValidating:!1}),o=(0,u.useCallback)((function(e){var o=!1,a=r.current;for(var u in e){var c=u;a[c]!==e[c]&&(a[c]=e[c],i.current[c]&&(o=!0))}o&&!n.current&&t({})}),[]);return D((function(){r.current=e})),[r,i.current,o]}({data:q,error:Y,isValidating:U},A),ee=K[0],ne=K[1],te=K[2],re=(0,u.useCallback)((function(e){return c(void 0,void 0,void 0,(function(){var n,o,a,u,c,s,f,h,p,b,m,y,w;return l(this,(function(l){switch(l.label){case 0:if(n=T.current,!E||!n||A.current||_().isPaused())return[2,!1];u=!0,c=e||{},s=!j[E]||!c.dedupe,f=function(){return!A.current&&E===S.current&&O.current},h=function(){var e=j[E];e&&e[1]===a&&delete j[E]},p={isValidating:!1},b=function(){X({isValidating:!1}),f()&&te(p)},X({isValidating:!0}),te({isValidating:!0}),l.label=1;case 1:return l.trys.push([1,3,,4]),s&&(F(r,E,ee.current.data,ee.current.error,!0),t.loadingTimeout&&!r.get(E)&&setTimeout((function(){u&&f()&&_().onLoadingSlow(E,t)}),t.loadingTimeout),j[E]=[n.apply(void 0,C),N()]),w=j[E],o=w[0],a=w[1],[4,o];case 2:return o=l.sent(),s&&setTimeout(h,t.dedupingInterval),j[E]&&j[E][1]===a?(X({error:d}),p.error=d,m=x[E],!v(m)&&(a<=m[0]||a<=m[1]||0===m[1])?(b(),s&&f()&&_().onDiscarded(E),[2,!1]):(i(ee.current.data,o)?p.data=ee.current.data:p.data=o,i(r.get(E),o)||r.set(E,o),s&&f()&&_().onSuccess(o,E,t),[3,4])):(s&&f()&&_().onDiscarded(E),[2,!1]);case 3:return y=l.sent(),h(),_().isPaused()||(X({error:y}),p.error=y,s&&f()&&(_().onError(y,E,t),("boolean"===typeof t.shouldRetryOnError&&t.shouldRetryOnError||g(t.shouldRetryOnError)&&t.shouldRetryOnError(y))&&M()&&_().onErrorRetry(y,E,t,re,{retryCount:(c.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,b(),f()&&s&&F(r,E,p.data,p.error,!1),[2,!0]}}))}))}),[E]),ie=(0,u.useCallback)(H.bind(d,r,(function(){return S.current})),[]);if(D((function(){T.current=n,W.current=t})),D((function(){if(E){var e=E!==S.current,n=re.bind(d,Z),t=0,r=Q(E,w,(function(e,n,t){te(p({error:n,isValidating:t},i(ee.current.data,e)?d:{data:e}))})),o=Q(E,y,(function(e){if(0==e){var r=Date.now();_().revalidateOnFocus&&r>t&&M()&&(t=r+_().focusThrottleInterval,n())}else if(1==e)_().revalidateOnReconnect&&M()&&n();else if(2==e)return re()}));return A.current=!1,S.current=E,O.current=!0,e&&te({data:q,error:Y,isValidating:U}),G()&&(v(q)||I?n():V(n)),function(){A.current=!0,r(),o()}}}),[E,re]),D((function(){var e;function n(){var n=g(f)?f(q):f;n&&-1!==e&&(e=setTimeout(t,n))}function t(){ee.current.error||!h&&!_().isVisible()||!b&&!_().isOnline()?n():re(Z).then(n)}return n(),function(){e&&(clearTimeout(e),e=-1)}}),[f,h,b,re]),(0,u.useDebugValue)(q),a&&v(q)&&E)throw T.current=n,W.current=t,A.current=!1,v(Y)?re(Z):Y;return{mutate:ie,get data(){return ne.data=!0,q},get error(){return ne.error=!0,Y},get isValidating(){return ne.isValidating=!0,U}}},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=K(),r=U(e),i=r[0],o=r[1],a=r[2],u=B(t,a),c=s,l=u.use;if(l)for(var f=l.length;f-- >0;)c=l[f](c);return c(i,o||u.fetcher,u)});function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function te(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return ne(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch.apply(void 0,te(n)).then((function(e){return e.json()}))},ie=function(e){var n=new Date,t="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate());9==t.length&&(t="".concat(n.getFullYear(),"-0").concat(n.getMonth()+1,"-").concat(n.getDate()));var o=ee("/api/counted/2022-04-28/peoplecount",re,{refreshInterval:3e4}),a=o.data;return o.error?(0,r.jsx)("div",{children:"Failed to load from api"}):a?(0,r.jsxs)(i.W2,{children:["current"==e.id&&(0,r.jsx)("a",{children:a.current}),"max"==e.id&&(0,r.jsx)("a",{children:a.maxAmount})]}):(0,r.jsx)("div",{children:"Loading..."})};function oe(){return(0,r.jsxs)(i.W2,{maxW:"auto",minH:"100vh",p:"2%",children:[(0,r.jsx)("header",{children:(0,r.jsx)("title",{children:"People Counter"})}),(0,r.jsx)(i.kC,{h:"10vh",children:(0,r.jsx)(i.gC,{w:"full",h:"full",p:10,spacing:10,alignItems:"center",children:(0,r.jsx)(i.X6,{color:"blueviolet",fontSize:"8vh",fontWeight:"600",m:"-3%",children:"People Counter p\xe5 Atea"})})}),(0,r.jsxs)(i.kC,{paddingBottom:"2.5rem",children:[(0,r.jsx)(i.gC,{w:"100px",marginTop:"5%",children:(0,r.jsx)(a.default,{href:"/history",children:(0,r.jsx)(o.zx,{size:"lg",color:"blueviolet",children:"Historik"})})}),(0,r.jsxs)(i.kC,{alignSelf:"center",w:"200vh",maxW:"200vh",display:"flex",direction:"column",gap:100,minH:"70vh",justifyContent:"center",alignItems:"center",children:[(0,r.jsxs)(i.xu,{p:10,maxW:"sm",borderRadius:"lg",borderWidth:"1px",overflow:"hidden",borderColor:"blue.600",children:[(0,r.jsx)(i.X6,{color:"blueviolet",textAlign:"center",children:(0,r.jsx)(ie,{id:"current"})}),(0,r.jsx)(i.xv,{color:"whiteAlpha.700",textAlign:"center",children:"Antal m\xe4nniskor p\xe5 kontoret"})]}),(0,r.jsxs)(i.xu,{p:10,maxW:"sm",borderRadius:"lg",borderWidth:"1px",overflow:"hidden",borderColor:"blue.600",children:[(0,r.jsx)(i.X6,{color:"blueviolet",textAlign:"center",children:(0,r.jsx)(ie,{id:"max"})}),(0,r.jsx)(i.xv,{color:"whiteAlpha.700",textAlign:"center",children:"H\xf6gsta antal p\xe5 kontoret samtidigt"})]})]})]}),(0,r.jsx)(i.gC,{w:"calc(100% - 4%)",height:"2.5rem",borderTop:"1px solid white",position:"absolute",bottom:"0"})]})}}},function(e){e.O(0,[708,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);